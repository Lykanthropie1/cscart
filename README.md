
# cscart departments module

<details>
	<summary><b>Системные требования</b></summary>
    - ОС  Windows 10
    - Версия php 7.1
    - OpenServer 5.3.7
    - MySQL
    - cs-cart 4.14.1 SP1
</details>

<details>
	<summary><b>Как развернуть приложение</b></summary><br>

+ Поместить чистый магазин в папку локального сервера<br>


+ Создать свою базу данных с пользователем и паролем для доступа<br>


+ В корневой папке, в файле config.local.php прописать свои настройки подключения к базе данных<br>


+ в папке var/backups лежит backup базы данных, ее нужно разархивировать и импортировать в Вашу пустую базу данных<br>


+ в папке images скопировать папку department и вставить в новый магазин по тому же пути<br>


+ в папке app/controllers/backend файл departments.php поместить в новый магазин по тому же пути<br>


+ в папке app/controllers/frontend файл departments.php поместить в новый магазин по тому же пути<br>


+ в папке app/functions файл fn.departments.php поместить в новый магазин по тому же пути и подключить этот файл в файле init.php, который находится в корневой папке магазина<br>


+ в папке design/backend/templates/views скопировать папку departments и сохранить в новом магазине по тому же пути<br>


+ в папке design/themes/responsive/templates/views скопировать папку departments и сохранить в новом магазине по тому же пути<br>


+ в папке app/schemas/menu скопировать menu.php и вставить с заменой в новом магазине по тому же пути<br>
</details>

<details>
	<summary><b>Как протестировать приложение</b></summary><br>

1. Создание отдела
    + Навести мышку на вкладку "Покупатели";
    + Кликнуть по пункту "Отделы";
    + Кликнуть по кнопке добавления отдела;
    + Написать всю необходимую информацию об отделе;
    + Выбрать руководителя;
    + Выбрать сотрудников.<br>
   

   <b>Ожидаемый результат:<b><br>
   На странице менеджмента отделов и на витрине должен появиться новый отдел.


2. Удаление отдела
    + Перейти в отделы (см. пункт 1);
    + Cпособ 1:
      + На странице менеджмента отделов навести мышку на удаляемый отдел в пространство между датой создания и статусом;
      + В пространстве появится tools list, кликом мышки выбираем опцию "Удалить".
    + Способ 2:
      + Перейти на страницу редактирования отдела;
      + В шапке административной части, около кнопки "Сохранить" находится tools list;
      + Кликом по tools list выбираем "Удалить".<br>
      
<b>Ожидаемый результат:<b><br>
Отдел будет удален и на странице менеджмента отделов и на витрине.


3. Просмотр сотрудников на витрине
   + Перейти на витрину (в шапке административной части иконка тележки);
   + В шапке витрины, в самой верхней ее части, около ссылки "Информация", нажать на ссылку "Отделы";
   + Выбрать интересующий отдел;
   + Посмотреть сотрудников.<br>
   

<b>Ожидаемый результат:<b><br>
   В карточке отдела должна присутствовать таблица с краткой информацией о сотрудниках.
</details>

<details>
	<summary><b>Баг репорты</b></summary><br>

1. Баг №1
   + Шаги воспроизведения:
      + Зайти в административную панель сайта;
      + Перейти в "Отделы";
      + Нажать на кнопку создания отдела;
      + Добавить руководителя;
      + Добавить сотрудников;<br>


   <b>Ожидаемый результат:<b><br>
      На странице должны появится пользователи и их email.

   <b>Фактический результат:<b><br>
     На странице появляются пользователи, но их email не отображаются.

2. Баг №2
    + Шаги воспроизведения:
      + Зайти в административную панель сайта;
      + Перейти в отделы;
      + В сайдбаре поиска по отделам написать название интересующего отдела;
      + Нажать кнопку "Найти".
   

   <b>Ожидаемый результат:<b><br>
   Сайдбар должен найти и отобразить искомый отдел.

   <b>Фактический результат:<b><br>
   Поиск не срабатывает и мы не переносимся к искомому отделу.
3. Баг №3
    + Шаги воспроизведения:
      + Перейти в витрину магазина;
      + Зайти в Отделы;
      + Зайти в карточку отдела.
      
    
<b>Ожидаемый результат:<b><br>
    В карточке отдела должна присутствовать таблица с краткой информацией о сотрудниках, которая будет иметь табличную верстку и распологаться во всю ширину контейнера и иметь границы строк.

<b>Фактический результат:<b><br>
    Таблица не имеет границ, прижата к левой части контейнера, имеет неудобное представление для восприятия.
</details>

<details>
	<summary><b>Как запустить автотест</b></summary><br>

+ В папке var/tools установлен codeception;
+ В папке var/tools/tests в файле acceptance.suite.yml прописать Ваш URL магазина;
+ Из консоли зайти в var/tools и прописать команду "php vendor/bin/codecept run --steps";
+ Дождаться окончания автотеста.<br>

</details>
